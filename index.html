<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="MD Â· Fran">
<title>MD Â· Fran Martin</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #f5f0e8;
  --bg2: #ede8dc;
  --ink: #1a1a14;
  --ink2: #4a4a3a;
  --muted: #9a9a8a;
  --accent: #c8392b;
  --accent2: #2b6cb8;
  --gold: #b8860b;
  --green: #2d6a2d;
  --border: #d4cfc0;
  --serif: 'Playfair Display', Georgia, serif;
  --mono: 'IBM Plex Mono', monospace;
  --shadow: 0 2px 12px rgba(26,26,20,0.08);
}
* { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
html, body { width:100%; min-height:100vh; background:var(--bg); color:var(--ink); font-family:var(--mono); -webkit-font-smoothing:antialiased; }

/* HEADER */
.header { background:var(â€“ink); color:var(â€“bg); padding:20px 20px 16px; position:sticky; top:0; z-index:100; display:flex; align-items:flex-end; justify-content:space-between; border-bottom:3px solid var(â€“accent); }
.header-name { font-family:var(â€“serif); font-size:22px; font-weight:700; letter-spacing:-.5px; line-height:1; }
.header-sub { font-size:9px; letter-spacing:3px; text-transform:uppercase; color:var(â€“muted); margin-top:4px; }
.header-date { font-size:10px; color:var(â€“muted); letter-spacing:1px; text-align:right; white-space:pre-line; }

/* NAV */
.nav { display:flex; background:var(â€“bg2); border-bottom:1px solid var(â€“border); overflow-x:auto; -webkit-overflow-scrolling:touch; scrollbar-width:none; }
.nav::-webkit-scrollbar { display:none; }
.nav-btn { flex:0 0 auto; padding:12px 18px; font-family:var(â€“mono); font-size:10px; letter-spacing:2px; text-transform:uppercase; color:var(â€“muted); background:none; border:none; border-bottom:2px solid transparent; cursor:pointer; white-space:nowrap; transition:all .2s; }
.nav-btn.active { color:var(â€“accent); border-bottom-color:var(â€“accent); }

/* PANELS */
.panel { display:none; padding:20px; max-width:680px; margin:0 auto; }
.panel.active { display:block; }

/* SECTION TITLE */
.sec-title { font-family:var(â€“serif); font-size:11px; font-weight:400; font-style:italic; letter-spacing:2px; text-transform:uppercase; color:var(â€“muted); margin-bottom:14px; padding-bottom:8px; border-bottom:1px solid var(â€“border); display:flex; align-items:center; justify-content:space-between; }

/* VALORES */
.valores-intro { font-family:var(â€“serif); font-size:17px; line-height:1.8; color:var(â€“ink); margin-bottom:24px; font-style:italic; padding:16px; background:var(â€“bg2); border-left:4px solid var(â€“accent); }
.valor-card { background:#fff; border:1px solid var(â€“border); padding:16px 18px; margin-bottom:10px; box-shadow:var(â€“shadow); position:relative; transition:transform .15s; }
.valor-card:active { transform:scale(0.99); }
.valor-num { font-family:var(â€“serif); font-size:32px; font-weight:700; color:var(â€“border); position:absolute; top:8px; right:14px; line-height:1; }
.valor-title { font-family:var(â€“serif); font-size:16px; font-weight:700; color:var(â€“ink); margin-bottom:6px; }
.valor-body { font-size:12px; line-height:1.8; color:var(â€“ink2); }
.valor-tag { display:inline-block; margin-top:8px; padding:2px 8px; background:var(â€“bg2); border:1px solid var(â€“border); font-size:9px; letter-spacing:2px; text-transform:uppercase; color:var(â€“muted); }
.principio-block { background:var(â€“ink); color:var(â€“bg); padding:16px 18px; margin-bottom:8px; font-size:12px; line-height:1.8; }
.principio-block strong { font-family:var(â€“serif); font-size:14px; color:var(â€“gold); display:block; margin-bottom:4px; }

/* PROYECTOS */
.proyecto-card { background:#fff; border:1px solid var(â€“border); margin-bottom:14px; box-shadow:var(â€“shadow); overflow:hidden; }
.proyecto-header { padding:14px 16px; display:flex; align-items:center; justify-content:space-between; border-bottom:1px solid var(â€“border); cursor:pointer; }
.proyecto-title { font-family:var(â€“serif); font-size:16px; font-weight:700; }
.proyecto-status { display:flex; align-items:center; gap:6px; font-size:9px; letter-spacing:2px; text-transform:uppercase; }
.status-dot { width:7px; height:7px; border-radius:50%; }
.status-active { background:var(â€“green); }
.status-pending { background:var(â€“gold); }
.status-idea { background:var(â€“muted); }
.proyecto-body { padding:14px 16px; display:none; }
.proyecto-body.open { display:block; }
.proyecto-desc { font-size:12px; line-height:1.8; color:var(â€“ink2); margin-bottom:12px; }
.proyecto-meta { display:grid; grid-template-columns:1fr 1fr; gap:8px; margin-bottom:12px; }
.meta-item { background:var(â€“bg2); padding:8px 10px; font-size:10px; }
.meta-label { color:var(â€“muted); letter-spacing:1px; text-transform:uppercase; font-size:8px; margin-bottom:3px; }
.meta-val { color:var(â€“ink); font-weight:500; }
.next-step { background:rgba(200,57,43,0.06); border-left:3px solid var(â€“accent); padding:10px 12px; font-size:11px; line-height:1.7; color:var(â€“ink); margin-bottom:12px; }
.next-step strong { color:var(â€“accent); }

/* BOTONES PROYECTO */
.proyecto-actions { display:flex; gap:8px; flex-wrap:wrap; margin-top:4px; }
.btn-proyecto { display:inline-block; padding:8px 14px; background:var(â€“ink); color:var(â€“bg); font-family:var(â€“mono); font-size:10px; letter-spacing:1px; text-transform:uppercase; border:none; cursor:pointer; text-decoration:none; transition:background .2s; }
.btn-proyecto:hover, .btn-proyecto:active { background:var(â€“accent2); }

/* â”€â”€ BOTÃ“N ACCIÃ“N RÃPIDA â†’ CLAUDE â”€â”€ */
.btn-accion-claude {
display:flex; align-items:center; gap:8px;
width:100%; padding:13px 16px;
background:var(â€“accent); color:#fff;
border:none; cursor:pointer;
font-family:var(â€“serif); font-size:15px;
letter-spacing:.3px;
transition:all .2s;
margin-top:12px;
text-align:left;
}
.btn-accion-claude:active { background:#a02d22; transform:scale(.99); }
.btn-accion-claude .arrow { margin-left:auto; font-size:18px; }
.btn-accion-claude .sub { font-family:var(â€“mono); font-size:9px; letter-spacing:2px; text-transform:uppercase; opacity:.8; display:block; margin-top:2px; }

/* DECISIONES */
.decision-form { background:#fff; border:1px solid var(â€“border); padding:16px; margin-bottom:20px; box-shadow:var(â€“shadow); }
label { display:block; font-size:9px; letter-spacing:2px; text-transform:uppercase; color:var(â€“muted); margin-bottom:5px; }
input, select, textarea { width:100%; padding:9px 12px; background:var(â€“bg2); border:1px solid var(â€“border); color:var(â€“ink); font-family:var(â€“mono); font-size:12px; outline:none; margin-bottom:12px; -webkit-appearance:none; border-radius:0; }
input:focus, select:focus, textarea:focus { border-color:var(â€“accent); }
.btn-add { width:100%; padding:12px; background:var(â€“ink); color:var(â€“bg); border:none; font-family:var(â€“serif); font-size:16px; cursor:pointer; transition:background .2s; }
.btn-add:hover { background:var(â€“accent); }
.decision-item { background:#fff; border:1px solid var(â€“border); padding:14px 16px; margin-bottom:8px; box-shadow:var(â€“shadow); animation:fadeIn .3s ease; }
@keyframes fadeIn { from{opacity:0;transform:translateY(6px)} to{opacity:1;transform:none} }
.dec-header { display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:6px; }
.dec-title { font-family:var(â€“serif); font-size:14px; font-weight:700; flex:1; }
.dec-date { font-size:9px; color:var(â€“muted); letter-spacing:1px; white-space:nowrap; margin-left:8px; }
.dec-context { font-size:11px; line-height:1.7; color:var(â€“ink2); margin-bottom:6px; }
.dec-tags { display:flex; gap:4px; flex-wrap:wrap; }
.dec-tag { padding:2px 7px; font-size:9px; letter-spacing:1px; text-transform:uppercase; }
.tag-values { background:rgba(184,134,11,.12); color:var(â€“gold); border:1px solid rgba(184,134,11,.3); }
.tag-proyecto { background:rgba(43,108,184,.1); color:var(â€“accent2); border:1px solid rgba(43,108,184,.25); }
.tag-personal { background:rgba(45,106,45,.1); color:var(â€“green); border:1px solid rgba(45,106,45,.25); }
.tag-sistema { background:rgba(200,57,43,.1); color:var(â€“accent); border:1px solid rgba(200,57,43,.25); }
.rm-btn { background:none; border:none; color:var(â€“muted); cursor:pointer; font-size:14px; padding:0 0 0 8px; }

/* VOZ */
.voz-center { display:flex; flex-direction:column; align-items:center; gap:24px; padding:20px 0; }
.mic-wrap { position:relative; display:flex; align-items:center; justify-content:center; }
.ripple { position:absolute; width:140px; height:140px; border-radius:50%; border:1px solid var(â€“accent); opacity:0; }
.recording .ripple { animation:ripple-out 1.6s ease-out infinite; }
.ripple-2{animation-delay:.4s!important;}.ripple-3{animation-delay:.8s!important;}
@keyframes ripple-out{0%{transform:scale(.8);opacity:.5}100%{transform:scale(2);opacity:0}}
.mic-btn { width:110px; height:110px; border-radius:50%; background:var(â€“ink); border:none; display:flex; align-items:center; justify-content:center; cursor:pointer; transition:all .2s; position:relative; z-index:2; box-shadow:var(â€“shadow); }
.mic-btn.recording { background:var(â€“accent); box-shadow:0 0 30px rgba(200,57,43,.4); }
.mic-icon { font-size:40px; line-height:1; }
.voz-status { font-size:11px; letter-spacing:3px; text-transform:uppercase; color:var(â€“muted); transition:color .3s; text-align:center; }
.voz-status.recording { color:var(â€“accent); }
.voz-status.done { color:var(â€“green); }
.voz-text { width:100%; min-height:100px; max-height:180px; background:#fff; border:1px solid var(â€“border); color:var(â€“ink); font-family:var(â€“serif); font-size:15px; line-height:1.7; padding:14px; resize:none; outline:none; overflow-y:auto; -webkit-appearance:none; border-radius:0; }
.voz-text:focus { border-color:var(â€“accent); }
.voz-text::placeholder { color:var(â€“muted); font-style:italic; }
.btn-copiar { width:100%; padding:16px; background:var(â€“accent); color:#fff; border:none; font-family:var(â€“serif); font-size:18px; cursor:pointer; transition:all .2s; }
.btn-copiar:disabled { background:var(â€“border); color:var(â€“muted); cursor:not-allowed; }
.btn-copiar.copied { background:var(â€“green); }
.btn-row { display:flex; gap:8px; width:100%; }
.btn-sec { flex:1; padding:10px; background:transparent; border:1px solid var(â€“border); color:var(â€“muted); font-family:var(â€“mono); font-size:10px; letter-spacing:2px; text-transform:uppercase; cursor:pointer; transition:all .2s; }
.btn-sec:active { border-color:var(â€“accent); color:var(â€“accent); }
.voz-hint { font-size:10px; color:var(â€“muted); text-align:center; line-height:1.8; letter-spacing:1px; }

/* MD LOG â€” cambios aprendidos */
.md-log { background:var(â€“bg2); border:1px solid var(â€“border); padding:14px 16px; margin-bottom:10px; font-size:11px; line-height:1.8; position:relative; }
.md-log-date { font-size:9px; color:var(â€“muted); letter-spacing:1px; margin-bottom:4px; }
.md-log-text { color:var(â€“ink2); }
.md-log .rm-btn { position:absolute; top:10px; right:10px; }

/* MISC */
.flash { position:fixed; top:0; left:0; right:0; padding:13px; text-align:center; font-size:11px; letter-spacing:2px; text-transform:uppercase; font-family:var(â€“mono); transform:translateY(-100%); transition:transform .3s cubic-bezier(.34,1.56,.64,1); z-index:999; }
.flash.show { transform:none; }
.flash.good { background:var(â€“green); color:#fff; }
.flash.bad  { background:var(â€“accent); color:#fff; }
.wave { display:flex; align-items:center; justify-content:center; gap:3px; height:20px; opacity:0; transition:opacity .3s; }
.wave.active { opacity:1; }
.wave-bar { width:3px; background:var(â€“accent); border-radius:2px; animation:wave-anim .8s ease-in-out infinite alternate; }
.wave-bar:nth-child(1){height:6px}.wave-bar:nth-child(2){height:14px;animation-delay:.1s}.wave-bar:nth-child(3){height:20px;animation-delay:.2s}.wave-bar:nth-child(4){height:14px;animation-delay:.3s}.wave-bar:nth-child(5){height:6px;animation-delay:.4s}.wave-bar:nth-child(6){height:18px;animation-delay:.15s}.wave-bar:nth-child(7){height:10px;animation-delay:.25s}
@keyframes wave-anim{from{transform:scaleY(.3)}to{transform:scaleY(1)}}
.empty { text-align:center; padding:40px 20px; color:var(â€“muted); font-size:12px; line-height:1.8; }
.empty-icon { font-size:32px; margin-bottom:10px; opacity:.4; display:block; }
.divider { border:none; border-top:1px solid var(â€“border); margin:20px 0; }
.badge { display:inline-flex; align-items:center; justify-content:center; width:16px; height:16px; border-radius:50%; background:var(â€“accent); color:#fff; font-size:9px; font-weight:700; margin-left:4px; }
</style>

</head>
<body>

<div class="flash" id="flash"></div>

<!-- HEADER -->

<div class="header">
  <div class="header-left">
    <div class="header-name">Fran Martin</div>
    <div class="header-sub">Sistema Operativo Personal Â· MD v2</div>
  </div>
  <div class="header-date" id="header-date"></div>
</div>

<!-- NAV -->

<div class="nav">
  <button class="nav-btn active" onclick="showPanel('valores',this)">Valores</button>
  <button class="nav-btn" onclick="showPanel('proyectos',this)">Proyectos</button>
  <button class="nav-btn" onclick="showPanel('decisiones',this)">Decisiones</button>
  <button class="nav-btn" onclick="showPanel('voz',this)">Voz â†’ Claude</button>
  <button class="nav-btn" onclick="showPanel('mdlog',this)">MD Log</button>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• VALORES â•â•â•â•â•â•â•â•â•â• -->

<div class="panel active" id="panel-valores">
  <div class="valores-intro">"Lo que importa es la Comunidad. La vida digna y feliz de toda la humanidad, sin daÃ±ar a ningÃºn ser vivo."</div>
  <div class="sec-title">Valores centrales</div>
  <div class="valor-card"><div class="valor-num">01</div><div class="valor-title">La Comunidad por encima de todo</div><div class="valor-body">Ni el beneficio personal ni el estatal son el fin. El fin es la Comunidad Organizada. Las decisiones se evalÃºan por su impacto en el bienestar colectivo de la humanidad.</div><span class="valor-tag">Justicialismo</span></div>
  <div class="valor-card"><div class="valor-num">02</div><div class="valor-title">Vida digna y feliz</div><div class="valor-body">Toda acciÃ³n debe poder ejecutarse sin daÃ±ar la salud integral, permitir la felicidad y ser sostenible. Si una acciÃ³n requiere daÃ±ar para sobrevivir, existe una alternativa equivalente.</div><span class="valor-tag">Ã‰tico</span></div>
  <div class="valor-card"><div class="valor-num">03</div><div class="valor-title">No usar a otro como medio</div><div class="valor-body">Nunca daÃ±ar a otro como instrumento para un fin propio. SÃ­ permitir que los seres humanos se relacionen y afecten entre sÃ­ naturalmente, priorizando siempre el bien comunitario.</div><span class="valor-tag">Kantiano Â· Comunitario</span></div>
  <div class="valor-card"><div class="valor-num">04</div><div class="valor-title">Privacidad e identidad protegidas</div><div class="valor-body">La identidad del usuario es prioridad nÃºmero uno. Toda herramienta, sistema o decisiÃ³n debe maximizar la protecciÃ³n de la identidad y los datos personales.</div><span class="valor-tag">Seguridad</span></div>
  <div class="valor-card"><div class="valor-num">05</div><div class="valor-title">Hacer sobre pensar Â· 80/20</div><div class="valor-body">La realidad es superior a la idea. Siempre priorizar acciÃ³n concreta sobre anÃ¡lisis infinito. Un click de decisiÃ³n por paso. Si no es posible 1, entonces 2, y asÃ­.</div><span class="valor-tag">Operativo</span></div>
  <hr class="divider">
  <div class="sec-title">Principios de trabajo con Claude</div>
  <div class="principio-block"><strong>Un click por decisiÃ³n</strong>Cada paso requiere mÃ¡ximo un click de decisiÃ³n. Si son varios pasos, cada uno es un click separado y claro.</div>
  <div class="principio-block"><strong>Todo desde esta terminal</strong>Minimizar acciones externas. Todo lo que pueda hacer Claude desde acÃ¡, lo hace Claude. Lo manual es la excepciÃ³n, no la regla.</div>
  <div class="principio-block"><strong>Formato de opciones siempre</strong>ğŸ† Mejor posible Â· ğŸ’ Ideal/monopolio Â· ğŸ†“ Gratis. Siempre con botones clickeables, nunca solo texto.</div>
  <div class="principio-block"><strong>Nombres de archivo descriptivos</strong>Formato: TIPO-descripcion-corta.extension. Siempre identificables a primera vista.</div>
  <div class="principio-block"><strong>BotÃ³n acciÃ³n rÃ¡pida por proyecto</strong>Cada proyecto tiene un botÃ³n que abre Claude con el contexto y prÃ³ximo paso precargado. Un tap y continuÃ¡s.</div>
  <div class="principio-block"><strong>MD aprende automÃ¡ticamente</strong>Cada cambio explÃ­cito pedido por el usuario se incorpora al MD sin fricciÃ³n. Los errores se corrigen cuando se mencionan y se aprende de ellos.</div>
  <div class="principio-block"><strong>AGI orientada a la Comunidad</strong>Toda herramienta de IA debe orientarse al bienestar colectivo. La tecnologÃ­a es un medio, no un fin. El fin es la humanidad digna y feliz.</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• PROYECTOS â•â•â•â•â•â•â•â•â•â• -->

<div class="panel" id="panel-proyectos">
  <div class="sec-title">Proyectos activos</div>

  <!-- POLYARB -->

  <div class="proyecto-card">
    <div class="proyecto-header" onclick="toggleProyecto('polyarb')">
      <div><div class="proyecto-title">PolyArb â€” Weather Arbitrage</div><div style="font-size:10px;color:var(--muted);margin-top:3px;letter-spacing:1px">Arbitraje meteorolÃ³gico en Polymarket</div></div>
      <div class="proyecto-status"><div class="status-dot status-active"></div><span>Activo</span></div>
    </div>
    <div class="proyecto-body" id="body-polyarb">
      <div class="proyecto-desc">Sistema de arbitraje legÃ­timo que cruza datos de NOAA con precios de mercados de clima en Polymarket. Detecta discrepancias entre la probabilidad cientÃ­fica real y la percepciÃ³n del mercado retail.</div>
      <div class="proyecto-meta">
        <div class="meta-item"><div class="meta-label">Fase actual</div><div class="meta-val">Backend en Vercel</div></div>
        <div class="meta-item"><div class="meta-label">Dispositivo</div><div class="meta-val">iPad Pro + iPhone 16</div></div>
        <div class="meta-item"><div class="meta-label">Capital inicial</div><div class="meta-val">$20â€“50 USD</div></div>
        <div class="meta-item"><div class="meta-label">AutomatizaciÃ³n</div><div class="meta-val">Nivel 1 â€” Alertas</div></div>
      </div>
      <div class="next-step"><strong>PrÃ³ximo paso:</strong> Crear cuenta GitHub con usuario <code>franmartin-tdfaias-SCAB</code> â†’ deploy en Vercel â†’ configurar variables de entorno â†’ activar cron automÃ¡tico cada 10 min.</div>
      <div class="proyecto-actions">
        <a href="https://polymarket.com" target="_blank" class="btn-proyecto">Polymarket â†’</a>
        <a href="https://forecast.weather.gov" target="_blank" class="btn-proyecto">NOAA â†’</a>
      </div>
      <button class="btn-accion-claude" onclick="accionClaude('PolyArb â€” Weather Arbitrage', 'Crear cuenta GitHub con usuario franmartin-tdfaias-SCAB â†’ deploy en Vercel â†’ configurar variables de entorno â†’ activar cron automÃ¡tico cada 10 min.')">
        <div><span>Continuar este proyecto en Claude</span><span class="sub">PrÃ³ximo paso precargado</span></div>
        <span class="arrow">â†’</span>
      </button>
    </div>
  </div>

  <!-- MD PERSONAL -->

  <div class="proyecto-card">
    <div class="proyecto-header" onclick="toggleProyecto('mdsystem')">
      <div><div class="proyecto-title">MD Â· Sistema Operativo Personal</div><div style="font-size:10px;color:var(--muted);margin-top:3px;letter-spacing:1px">Esta app â€” aprende y evoluciona cada sesiÃ³n</div></div>
      <div class="proyecto-status"><div class="status-dot status-active"></div><span>Activo</span></div>
    </div>
    <div class="proyecto-body" id="body-mdsystem">
      <div class="proyecto-desc">App personal que centraliza valores, proyectos, decisiones y comunicaciÃ³n con Claude. Se actualiza con cada sesiÃ³n. Objetivo: convertirse en el sistema operativo de la Comunidad Organizada.</div>
      <div class="proyecto-meta">
        <div class="meta-item"><div class="meta-label">VersiÃ³n</div><div class="meta-val">v2</div></div>
        <div class="meta-item"><div class="meta-label">PrÃ³xima versiÃ³n</div><div class="meta-val">v3 â€” Online Â· PWA</div></div>
        <div class="meta-item"><div class="meta-label">Horizonte</div><div class="meta-val">Comunidad Organizada</div></div>
        <div class="meta-item"><div class="meta-label">Estado</div><div class="meta-val">En desarrollo activo</div></div>
      </div>
      <div class="next-step"><strong>PrÃ³ximo paso:</strong> Hostear en GitHub Pages o Vercel para que viva en una URL real y funcione como PWA instalable.</div>
      <button class="btn-accion-claude" onclick="accionClaude('MD Â· Sistema Operativo Personal', 'Hostear en GitHub Pages o Vercel para que viva en una URL real y funcione como PWA instalable sin pasos manuales.')">
        <div><span>Continuar este proyecto en Claude</span><span class="sub">PrÃ³ximo paso precargado</span></div>
        <span class="arrow">â†’</span>
      </button>
    </div>
  </div>

  <!-- COMUNIDAD ORGANIZADA -->

  <div class="proyecto-card">
    <div class="proyecto-header" onclick="toggleProyecto('comunidad')">
      <div><div class="proyecto-title">Comunidad Organizada Â· AGI</div><div style="font-size:10px;color:var(--muted);margin-top:3px;letter-spacing:1px">Horizonte estratÃ©gico de largo plazo</div></div>
      <div class="proyecto-status"><div class="status-dot status-idea"></div><span>VisiÃ³n</span></div>
    </div>
    <div class="proyecto-body" id="body-comunidad">
      <div class="proyecto-desc">Orientar el desarrollo de herramientas de IA hacia el bienestar colectivo de la humanidad. Construir sistemas que maximicen la vida digna y feliz de toda la Comunidad, sin daÃ±ar a ningÃºn ser vivo.</div>
      <div class="next-step"><strong>PrÃ³ximo paso:</strong> Documentar el marco filosÃ³fico completo. Cada decisiÃ³n tecnolÃ³gica debe poder evaluarse contra este horizonte.</div>
      <button class="btn-accion-claude" onclick="accionClaude('Comunidad Organizada Â· AGI', 'Documentar el marco filosÃ³fico completo. Cada decisiÃ³n tecnolÃ³gica debe poder evaluarse contra este horizonte de Comunidad Organizada.')">
        <div><span>Continuar este proyecto en Claude</span><span class="sub">PrÃ³ximo paso precargado</span></div>
        <span class="arrow">â†’</span>
      </button>
    </div>
  </div>

  <hr class="divider">
  <div class="sec-title">Agregar proyecto</div>
  <div class="decision-form">
    <label>Nombre del proyecto</label>
    <input type="text" id="p-nombre" placeholder="Nombre del proyecto">
    <label>DescripciÃ³n</label>
    <textarea id="p-desc" rows="2" placeholder="Â¿QuÃ© hace y para quÃ©?"></textarea>
    <label>PrÃ³ximo paso concreto</label>
    <input type="text" id="p-next" placeholder="AcciÃ³n concreta inmediata">
    <button class="btn-add" onclick="addProyecto()">+ Agregar proyecto</button>
  </div>
  <div id="proyectos-custom"></div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• DECISIONES â•â•â•â•â•â•â•â•â•â• -->

<div class="panel" id="panel-decisiones">
  <div class="sec-title">Registrar decisiÃ³n</div>
  <div class="decision-form">
    <label>DecisiÃ³n tomada</label>
    <input type="text" id="d-titulo" placeholder="Â¿QuÃ© decidiste?">
    <label>Contexto / Por quÃ©</label>
    <textarea id="d-contexto" rows="2" placeholder="Contexto y razÃ³n de la decisiÃ³n..."></textarea>
    <label>CategorÃ­a</label>
    <select id="d-categoria">
      <option value="values">Valores</option>
      <option value="proyecto">Proyecto</option>
      <option value="personal">Personal</option>
      <option value="sistema">Sistema Â· MD</option>
    </select>
    <button class="btn-add" onclick="addDecision()">Registrar decisiÃ³n</button>
  </div>
  <div class="sec-title">Historial <span id="dec-count-badge"></span></div>
  <div id="decision-list"><div class="empty"><span class="empty-icon">ğŸ“‹</span>Las decisiones que registres aparecen acÃ¡.</div></div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• VOZ â•â•â•â•â•â•â•â•â•â• -->

<div class="panel" id="panel-voz">
  <div class="sec-title">GrabÃ¡ Â· CopiÃ¡ Â· PegÃ¡ en Claude</div>
  <div class="voz-center">
    <div class="mic-wrap" id="mic-wrap">
      <div class="ripple ripple-1"></div><div class="ripple ripple-2"></div><div class="ripple ripple-3"></div>
      <div class="mic-btn" id="mic-btn" onclick="toggleRecording()"><span class="mic-icon" id="mic-icon">ğŸ™</span></div>
    </div>
    <div class="wave" id="wave"><div class="wave-bar"></div><div class="wave-bar"></div><div class="wave-bar"></div><div class="wave-bar"></div><div class="wave-bar"></div><div class="wave-bar"></div><div class="wave-bar"></div></div>
    <div class="voz-status" id="voz-status">TocÃ¡ para hablar</div>
    <textarea class="voz-text" id="voz-text" placeholder="Tu transcripciÃ³n aparece aquÃ­..."></textarea>
    <button class="btn-copiar" id="btn-copiar" onclick="copyVoz()" disabled><span id="copiar-label">Copiar al portapapeles</span></button>
    <div class="btn-row">
      <button class="btn-sec" onclick="clearVoz()">Limpiar</button>
      <button class="btn-sec" onclick="window.open('https://claude.ai','_blank')">Abrir Claude â†’</button>
    </div>
    <div class="voz-hint">1. GrabÃ¡ â†’ 2. CopiÃ¡ â†’ 3. AbrÃ­ Claude â†’ 4. Tap largo â†’ Pegar</div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• MD LOG â•â•â•â•â•â•â•â•â•â• -->

<div class="panel" id="panel-mdlog">
  <div class="sec-title">Aprendizajes del MD <span id="log-count-badge"></span></div>
  <div class="decision-form">
    <label>Cambio o aprendizaje</label>
    <input type="text" id="ml-texto" placeholder="QuÃ© aprendiÃ³ o cambiÃ³ el MD...">
    <label>SesiÃ³n / Fecha</label>
    <input type="text" id="ml-fecha" placeholder="Ej: SesiÃ³n 1 Â· 22 feb 2025">
    <button class="btn-add" onclick="addMDLog()">+ Registrar aprendizaje</button>
  </div>
  <div id="mdlog-list"><div class="empty"><span class="empty-icon">ğŸ§ </span>Los cambios y aprendizajes del MD aparecen acÃ¡.<br>Se acumulan sesiÃ³n a sesiÃ³n.</div></div>
</div>

<script>
// â”€â”€ STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let decisions = JSON.parse(localStorage.getItem('md-decisions') || '[]');
let customProjects = JSON.parse(localStorage.getItem('md-projects') || '[]');
let mdLogs = JSON.parse(localStorage.getItem('md-logs') || '[]');

// â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
window.addEventListener('load', () => {
  updateDate();
  setInterval(updateDate, 60000);
  renderDecisions();
  renderCustomProjects();
  renderMDLog();

  // Auto-registrar aprendizajes de esta versiÃ³n si no existen
  autoRegisterV2Logs();
});

function autoRegisterV2Logs() {
  const v2key = 'md-v2-logged';
  if (localStorage.getItem(v2key)) return;
  const now = new Date().toLocaleDateString('es-AR', { day:'numeric', month:'short', year:'numeric' });
  const logs = [
    { texto: 'BotÃ³n acciÃ³n rÃ¡pida â†’ Claude agregado a cada proyecto con prÃ³ximo paso precargado', fecha: 'v2 Â· ' + now },
    { texto: 'MD aprende automÃ¡ticamente: cada cambio explÃ­cito se incorpora sin fricciÃ³n', fecha: 'v2 Â· ' + now },
    { texto: 'Nueva pestaÃ±a MD Log para registrar aprendizajes sesiÃ³n a sesiÃ³n', fecha: 'v2 Â· ' + now },
  ];
  logs.forEach(l => mdLogs.unshift({ ...l, ts: Date.now() }));
  localStorage.setItem('md-logs', JSON.stringify(mdLogs));
  localStorage.setItem(v2key, '1');
}

function updateDate() {
  const now = new Date();
  document.getElementById('header-date').textContent =
    now.toLocaleDateString('es-AR', { weekday:'long', day:'numeric', month:'long' }) + '\n' +
    now.toLocaleTimeString('es-AR', { hour:'2-digit', minute:'2-digit' });
}

// â”€â”€ NAV â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showPanel(id, el) {
  document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
  document.getElementById('panel-' + id).classList.add('active');
  el.classList.add('active');
}

// â”€â”€ ACCIÃ“N RÃPIDA â†’ CLAUDE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function accionClaude(proyecto, nextStep) {
  const msg = `Proyecto: ${proyecto}\n\nContinuemos con el prÃ³ximo paso:\n${nextStep}\n\nÂ¿Arrancamos?`;
  navigator.clipboard.writeText(msg).then(() => {
    showFlash('Copiado â€” pegÃ¡ en Claude', 'good');
    setTimeout(() => window.open('https://claude.ai', '_blank'), 800);
  }).catch(() => {
    // Fallback: abrir Claude directo
    showFlash('Abriendo Claude...', 'good');
    window.open('https://claude.ai', '_blank');
  });
}

// â”€â”€ PROYECTOS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function toggleProyecto(id) {
  const body = document.getElementById('body-' + id);
  if (body) body.classList.toggle('open');
}

function addProyecto() {
  const nombre = document.getElementById('p-nombre').value.trim();
  const desc = document.getElementById('p-desc').value.trim();
  const next = document.getElementById('p-next').value.trim();
  if (!nombre) { showFlash('IngresÃ¡ el nombre del proyecto', 'bad'); return; }
  customProjects.push({ nombre, desc, next, ts: Date.now() });
  localStorage.setItem('md-projects', JSON.stringify(customProjects));
  document.getElementById('p-nombre').value = '';
  document.getElementById('p-desc').value = '';
  document.getElementById('p-next').value = '';
  renderCustomProjects();
  showFlash('Proyecto agregado', 'good');
}

function renderCustomProjects() {
  const c = document.getElementById('proyectos-custom');
  if (!customProjects.length) { c.innerHTML = ''; return; }
  c.innerHTML = customProjects.map((p, i) => `
    <div class="proyecto-card">
      <div class="proyecto-header" onclick="toggleProyecto('custom${i}')">
        <div><div class="proyecto-title">${p.nombre}</div></div>
        <div class="proyecto-status"><div class="status-dot status-pending"></div><span>Nuevo</span></div>
      </div>
      <div class="proyecto-body" id="body-custom${i}">
        <div class="proyecto-desc">${p.desc || 'Sin descripciÃ³n.'}</div>
        ${p.next ? `<div class="next-step"><strong>PrÃ³ximo paso:</strong> ${p.next}</div>` : ''}
        <button class="btn-accion-claude" onclick="accionClaude('${p.nombre.replace(/'/g,"\\'")}','${(p.next||'Definir prÃ³ximo paso').replace(/'/g,"\\'")}')">
          <div><span>Continuar en Claude</span><span class="sub">PrÃ³ximo paso precargado</span></div>
          <span class="arrow">â†’</span>
        </button>
        <button onclick="removeProject(${i})" style="margin-top:8px;background:none;border:1px solid var(--border);padding:6px 12px;font-size:10px;color:var(--muted);cursor:pointer;letter-spacing:1px;width:100%">Eliminar proyecto</button>
      </div>
    </div>
  `).join('');
}

function removeProject(i) {
  customProjects.splice(i, 1);
  localStorage.setItem('md-projects', JSON.stringify(customProjects));
  renderCustomProjects();
}

// â”€â”€ DECISIONES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function addDecision() {
  const titulo = document.getElementById('d-titulo').value.trim();
  const contexto = document.getElementById('d-contexto').value.trim();
  const categoria = document.getElementById('d-categoria').value;
  if (!titulo) { showFlash('IngresÃ¡ la decisiÃ³n', 'bad'); return; }
  const now = new Date();
  decisions.unshift({ titulo, contexto, categoria, fecha: now.toLocaleDateString('es-AR', { day:'numeric', month:'short', year:'numeric' }), ts: Date.now() });
  localStorage.setItem('md-decisions', JSON.stringify(decisions));
  document.getElementById('d-titulo').value = '';
  document.getElementById('d-contexto').value = '';
  renderDecisions();
  showFlash('DecisiÃ³n registrada', 'good');
}

const tagClass = { values:'tag-values', proyecto:'tag-proyecto', personal:'tag-personal', sistema:'tag-sistema' };
const tagLabel = { values:'Valores', proyecto:'Proyecto', personal:'Personal', sistema:'Sistema' };

function renderDecisions() {
  const c = document.getElementById('decision-list');
  const badge = document.getElementById('dec-count-badge');
  badge.innerHTML = decisions.length ? `<span class="badge">${decisions.length}</span>` : '';
  if (!decisions.length) { c.innerHTML = `<div class="empty"><span class="empty-icon">ğŸ“‹</span>Las decisiones que registres aparecen acÃ¡.</div>`; return; }
  c.innerHTML = decisions.map((d, i) => `
    <div class="decision-item">
      <div class="dec-header">
        <div class="dec-title">${d.titulo}</div>
        <div style="display:flex;align-items:center;gap:4px"><span class="dec-date">${d.fecha}</span><button class="rm-btn" onclick="removeDecision(${i})">âœ•</button></div>
      </div>
      ${d.contexto ? `<div class="dec-context">${d.contexto}</div>` : ''}
      <div class="dec-tags"><span class="dec-tag ${tagClass[d.categoria]}">${tagLabel[d.categoria]}</span></div>
    </div>`).join('');
}

function removeDecision(i) {
  decisions.splice(i, 1);
  localStorage.setItem('md-decisions', JSON.stringify(decisions));
  renderDecisions();
}

// â”€â”€ MD LOG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function addMDLog() {
  const texto = document.getElementById('ml-texto').value.trim();
  const fecha = document.getElementById('ml-fecha').value.trim() || new Date().toLocaleDateString('es-AR', { day:'numeric', month:'short', year:'numeric' });
  if (!texto) { showFlash('IngresÃ¡ el aprendizaje', 'bad'); return; }
  mdLogs.unshift({ texto, fecha, ts: Date.now() });
  localStorage.setItem('md-logs', JSON.stringify(mdLogs));
  document.getElementById('ml-texto').value = '';
  document.getElementById('ml-fecha').value = '';
  renderMDLog();
  showFlash('Aprendizaje registrado', 'good');
}

function renderMDLog() {
  const c = document.getElementById('mdlog-list');
  const badge = document.getElementById('log-count-badge');
  badge.innerHTML = mdLogs.length ? `<span class="badge">${mdLogs.length}</span>` : '';
  if (!mdLogs.length) { c.innerHTML = `<div class="empty"><span class="empty-icon">ğŸ§ </span>Los cambios y aprendizajes del MD aparecen acÃ¡.</div>`; return; }
  c.innerHTML = mdLogs.map((l, i) => `
    <div class="md-log">
      <div class="md-log-date">${l.fecha}</div>
      <div class="md-log-text">${l.texto}</div>
      <button class="rm-btn" onclick="removeMDLog(${i})">âœ•</button>
    </div>`).join('');
}

function removeMDLog(i) {
  mdLogs.splice(i, 1);
  localStorage.setItem('md-logs', JSON.stringify(mdLogs));
  renderMDLog();
}

// â”€â”€ VOZ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
let rec = null, isRec = false, finalT = '', interimT = '';

function initRec() {
  if (!SR) {
    document.getElementById('voz-status').textContent = 'UsÃ¡ el micrÃ³fono del teclado ğŸ¤';
    document.getElementById('mic-btn').style.opacity = '.4';
    document.getElementById('mic-btn').style.pointerEvents = 'none';
    return null;
  }
  const r = new SR();
  r.continuous = true; r.interimResults = true; r.lang = 'es-AR';
  r.onstart = () => { isRec = true; document.getElementById('mic-btn').classList.add('recording'); document.getElementById('mic-wrap').classList.add('recording'); document.getElementById('wave').classList.add('active'); document.getElementById('mic-icon').textContent = 'â¹'; setVozStatus('Escuchando...', 'recording'); };
  r.onresult = (e) => { interimT = ''; for (let i = e.resultIndex; i < e.results.length; i++) { const t = e.results[i][0].transcript; if (e.results[i].isFinal) finalT += t + ' '; else interimT = t; } updateVozDisplay(); };
  r.onerror = (e) => { if (e.error === 'not-allowed') showFlash('Permiso denegado', 'bad'); else showFlash('Error: ' + e.error, 'bad'); stopRec(); };
  r.onend = () => { if (isRec) try { r.start(); } catch(e) { stopRec(); } };
  return r;
}

function toggleRecording() { isRec ? stopRec() : startRec(); }
function startRec() { rec = initRec(); if (!rec) return; try { rec.start(); } catch(e) { setTimeout(() => { rec = initRec(); rec.start(); }, 300); } }
function stopRec() { isRec = false; if (rec) try { rec.stop(); } catch(e) {} document.getElementById('mic-btn').classList.remove('recording'); document.getElementById('mic-wrap').classList.remove('recording'); document.getElementById('wave').classList.remove('active'); document.getElementById('mic-icon').textContent = 'ğŸ™'; interimT = ''; if (finalT.trim()) { setVozStatus('Listo â€” copiÃ¡ y pegÃ¡ en Claude', 'done'); document.getElementById('btn-copiar').disabled = false; } else { setVozStatus('TocÃ¡ para hablar', ''); } updateVozDisplay(); }
function updateVozDisplay() { document.getElementById('voz-text').value = finalT + (interimT ? 'â€¦' + interimT : ''); if (finalT.trim()) document.getElementById('btn-copiar').disabled = false; }
function setVozStatus(m, t) { const el = document.getElementById('voz-status'); el.textContent = m; el.className = 'voz-status ' + (t || ''); }
async function copyVoz() { const t = document.getElementById('voz-text').value.trim(); if (!t) return; try { await navigator.clipboard.writeText(t); showCopied(); } catch(e) { const ta = document.getElementById('voz-text'); ta.select(); ta.setSelectionRange(0,99999); try { document.execCommand('copy'); showCopied(); } catch(e2) { showFlash('SeleccionÃ¡ y copiÃ¡ manualmente','bad'); } } }
function showCopied() { const btn = document.getElementById('btn-copiar'); const lbl = document.getElementById('copiar-label'); btn.classList.add('copied'); lbl.textContent = 'âœ“ Copiado â€” pegÃ¡ en Claude'; showFlash('Â¡Copiado! AbrÃ­ Claude y pegÃ¡', 'good'); setTimeout(() => { btn.classList.remove('copied'); lbl.textContent = 'Copiar al portapapeles'; }, 3000); }
function clearVoz() { finalT = ''; interimT = ''; document.getElementById('voz-text').value = ''; document.getElementById('btn-copiar').disabled = true; document.getElementById('copiar-label').textContent = 'Copiar al portapapeles'; setVozStatus('TocÃ¡ para hablar', ''); }
document.getElementById('voz-text').addEventListener('input', function() { finalT = this.value; document.getElementById('btn-copiar').disabled = !this.value.trim(); });

// â”€â”€ FLASH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showFlash(m, t) { const f = document.getElementById('flash'); f.textContent = m; f.className = 'flash ' + t + ' show'; setTimeout(() => f.classList.remove('show'), 2600); }
</script>

</body>
</html>
